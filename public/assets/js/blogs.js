// assets/js/blogs.js
// Blogs page specific functionality

// Blogs data - Expanded collection
const blogs = [
  { id: 1, title: "Top 10 Social Engineering Red Flags in 2025", category: "awareness", date: "Nov 2025", readTime: "6 min", excerpt: "Learn to identify sophisticated social engineering attacks.", content: "As we move into late 2025, social engineering attacks continue to evolve with AI-enhanced targeting and deepfake technology becoming mainstream. The top 10 red flags include: 1) Unsolicited urgent requests creating artificial pressure, 2) Authority impersonation with perfect grammar (attackers now use AI), 3) Phishing emails with legitimate company logos and layouts, 4) Shortened URLs hiding malicious destinations, 5) Requests for sensitive information via email (legitimate companies never ask this), 6) CEO fraud targeting finance teams, 7) Shared Google Docs with unexpected access requests, 8) Calls claiming to be from IT support, 9) LinkedIn messages from 'recruiters' with suspicious links, 10) Package delivery notifications from unknown couriers. Statistics from November 2025 show a 34% increase in social engineering incidents compared to November 2024. Organizations should implement verification protocols: call back using known numbers, verify sender email domains carefully, and use security awareness training monthly. The average cost of a successful social engineering attack is $130,000 in recovery and lost data.", author: "Security Team", tags: ["social-eng", "phishing", "awareness"] },
  { id: 2, title: "Critical Infrastructure Protection", category: "threats", date: "Dec 2025", readTime: "8 min", excerpt: "Safeguarding power, telecom, financial systems from cyber threats.", content: "December 2025 marks a critical period for Critical Infrastructure (CII) protection as India's energy, telecom, financial, and water systems face unprecedented cyber threats. Recent incidents in Q3-Q4 2025 highlight vulnerabilities: several state power grids experienced reconnaissance attacks, and telecom networks reported DDoS attempts. India's NCIIPC (National Critical Information Infrastructure Protection Centre) has mandated compliance with IEC 62443 standards for all critical infrastructure operators. Key protection strategies for December 2025 onwards include: implementing Zero Trust Architecture with multi-factor authentication for all privileged accounts, deploying real-time network monitoring systems with 24/7 SOC oversight, maintaining air-gapped backup systems, and conducting quarterly penetration tests. Organizations must establish Incident Response plans with defined Recovery Time Objectives (RTO) of less than 2 hours for critical systems. The financial sector has already adopted blockchain-based authentication in some systems. Telecom operators are implementing quantum-resistant encryption pilots. Energy companies are segmenting SCADA networks from IT systems. India has also launched the 'Critical Infrastructure Resilience Initiative' in 2025 to provide resources and frameworks. Data from CERT-In shows 47% of reported incidents target critical infrastructure, making this a national priority.", author: "Infra Team", tags: ["cii", "defense", "policy"] },
  { id: 3, title: "Building Cyber Hygiene Routine", category: "awareness", date: "Oct 2025", readTime: "4 min", excerpt: "5 daily cybersecurity habits that protect your data.", content: "October 2025 cybersecurity research confirms that 91% of successful breaches occur due to poor hygiene practices rather than zero-day exploits. Building a daily cyber hygiene routine takes just 10 minutes but prevents over 90% of common attacks. The five essential practices are: (1) Update software and patches immediately - set OS updates to automatic; most breaches exploit known vulnerabilities patched months ago; (2) Use strong passwords - minimum 16 characters with upper, lower, numbers, and symbols; consider using a password manager like Bitwarden; (3) Enable Multi-Factor Authentication (MFA) on all critical accounts (email, banking, work) - in Oct 2025, MFA prevented 99.9% of account takeover attempts; (4) Verify senders before clicking links - hover over email addresses, check for slight misspellings in domain names, legitimate companies use consistent domain patterns; (5) Backup important data offline weekly - ransomware increasingly targets cloud backups, so maintain one fully disconnected backup. Additional habits for Oct 2025: use VPNs on public WiFi, enable device encryption, lock screens immediately, and use biometric authentication. Studies show teams following these practices experience 78% fewer incidents than those without structured routines. India's DSCI (Data Security Council of India) recommends 15-minute security huddles weekly for teams.", author: "Hygiene Expert", tags: ["habits", "prevention", "daily"] },
  { id: 4, title: "Ransomware in 2025", category: "threats", date: "Sep 2025", readTime: "9 min", excerpt: "Modern ransomware tactics and comprehensive defense strategies.", content: "September 2025 threat intelligence reports show ransomware evolution has reached critical sophistication levels. Modern ransomware now employs triple-extortion tactics: encrypting files, exfiltrating data, and threatening to contact customers directly. LockBit 3.1, BlackCat (ALPHV), and Play ransomware variants dominate Q3 2025 attack campaigns. The average ransom demand in Sept 2025 is $2.4 million (up 156% from 2024), with attackers specifically targeting healthcare, finance, and manufacturing sectors. Comprehensive defense strategies include: (1) Detection systems - deploy EDR (Endpoint Detection & Response) with behavioral analytics, SIEM integration for rapid alerting; (2) Network segmentation - isolate critical systems, implement zero-trust architecture, use micro-segmentation with application-level controls; (3) Immutable backups - maintain 3-2-1 backup rule (3 copies, 2 media types, 1 offsite), test recovery monthly, use air-gapped backups never connected to network; (4) Incident response playbooks - define clear roles, communication templates, law enforcement contacts, define 2-hour containment target; (5) Threat intelligence subscription - monitor ransomware-as-a-service (RaaS) trends, track IOCs. Organizations in India should report incidents to CERT-In and consider cyber insurance. Recent case: A Delhi-based pharmaceutical company recovered from LockBit 3.1 in 48 hours using segmented networks and immutable backups, avoiding $5 million ransom. Expert consensus: Never pay ransoms as it funds future attacks.", author: "Response Team", tags: ["ransomware", "malware", "defense"] },
  { id: 5, title: "Zero Trust Architecture", category: "policy", date: "Nov 2025", readTime: "10 min", excerpt: "Transitioning from perimeter to continuous verification.", content: "November 2025 marks the inflection point where Zero Trust Architecture moves from aspirational to essential for enterprises. The perimeter-based security model is obsolete - 72% of breaches now occur within already-trusted networks. Zero Trust Architecture operates on three principles: (1) Never trust, always verify - treat every user and device as untrusted until proven otherwise; (2) Least privilege access - grant minimum permissions needed for specific task; (3) Continuous monitoring - verify authentication and authorization at each access attempt. Implementation roadmap for Nov 2025: Phase 1 (Months 1-3): Identity-centric security - implement SSO, MFA, passwordless authentication via Windows Hello or FIDO2 keys; Phase 2 (Months 4-6): Microsegmentation - segment networks into zones (data zones, user zones, device zones), enforce policies between zones; Phase 3 (Months 7-9): Continuous monitoring - deploy SIEM, behavioral analytics, EDR tools; Phase 4 (Months 10-12): Encryption everywhere - all data in transit (TLS 1.3) and at rest (AES-256). Key technologies: AWS IAM/Google Workspace for identity, Zscaler/Cloudflare for network, CrowdStrike/Microsoft Defender for endpoints. India's Ministry of Defence has mandated Zero Trust for all digital initiatives by end of 2025. Enterprise case study: A Bangalore-based tech company reduced breach risk by 94% after 8-month Zero Trust implementation, with initial investment of $1.2 million. NIST and India's DSCI recommend starting with sensitive data and expanding gradually to avoid implementation paralysis.", author: "Architecture", tags: ["zero-trust", "policy", "arch"] },
  { id: 6, title: "Cloud Security Best Practices", category: "policy", date: "Aug 2025", readTime: "7 min", excerpt: "Securing AWS, Azure, GCP with compliance and governance.", content: "August 2025 cloud security landscape shows 63% of enterprises now use multi-cloud strategies (AWS, Azure, GCP), creating complexity in security governance. Best practices for Aug 2025 include: (1) Native cloud tools - AWS Security Hub, Azure Defender, GCP Security Command Center provide centralized visibility; (2) Least privilege IAM - implement role-based access control (RBAC), use temporary credentials instead of long-lived keys, audit permissions monthly; (3) Encryption strategy - encrypt data in transit (TLS 1.3), at rest (server-side encryption enabled by default), and implement Key Management Service (KMS) for encryption keys; (4) Regular assessments - conduct cloud infrastructure assessments using AWS Config, Azure Policy, GCP Cloud Asset Inventory monthly, remediate misconfigurations within 48 hours; (5) Data localization - India's Data Protection law requires personal data stored within India, use region-locked storage; (6) Monthly audits - enable CloudTrail/Azure Activity Logs, retain logs for 90+ days, analyze for anomalies; (7) Credential rotation - rotate API keys, access tokens every 90 days; (8) Third-party management - vet cloud service providers, define SLAs, include security clauses; (9) Incident response - establish cloud-specific IR procedures for data exfiltration and account compromise. Red flags: unencrypted S3 buckets (source of 41% of data breaches), overly permissive security groups, default credentials. India's AWS Mumbai region and Azure India regions recommend compliance with DPDP Act 2023. Multi-cloud security tools: CloudSploit, Dome9, Orca provide unified monitoring across providers.", author: "Cloud Team", tags: ["cloud", "aws", "security"] },
  { id: 7, title: "API Security", category: "threats", date: "Jul 2025", readTime: "8 min", excerpt: "Securing REST and GraphQL APIs against attacks.", content: "July 2025 OWASP Top 10 (API 2023) identifies critical API vulnerabilities: (1) Broken Object Level Authorization (BOLA) - 61% of API breaches involve accessing resources without proper permission checks; (2) Injection attacks - SQL, NoSQL, command injection exploiting unvalidated inputs; (3) Broken Authentication - weak token validation, expired tokens accepted, JWT signature not verified; (4) Rate limiting failures - DDoS attacks exploiting unprotected APIs, average attacker sends 500+ requests/second; (5) Mass assignment - unintended fields modified by users; (6) Insufficient logging - breaches not detected for 200+ days. Security implementation for July 2025: (1) Input validation - whitelist allowed characters, use parameterized queries, validate data types and ranges; (2) OAuth 2.0 + OpenID Connect - industry-standard authentication, supports delegated access; (3) JWT token security - use RS256 algorithm (asymmetric), verify signature always, include 'exp' and 'iat' claims, rotate signing keys quarterly; (4) Rate limiting - implement token-bucket algorithm (e.g., 100 requests/minute/IP), use exponential backoff for retries; (5) Web Application Firewall (WAF) - AWS WAF, Cloudflare WAF block common attack patterns; (6) Encryption - TLS 1.3 for all API traffic, no HTTP allowed; (7) Regular pentesting - conduct API security assessments quarterly, use tools like Burp Suite, Postman security testing. GraphQL-specific concerns (July 2025): query complexity limits, introspection disabled in production, depth limiting to prevent recursive queries. India's NASSCOM published API Security guidelines in 2025 specifically for Indian enterprises. Monitoring: set up alerts for failed authentication (>5 attempts), rate limit breaches, unusual geographic access patterns.", author: "API Security", tags: ["api", "dev", "security"] },
  { id: 8, title: "Data Privacy & Governance", category: "policy", date: "Jun 2025", readTime: "7 min", excerpt: "Building governance aligned with privacy laws.", content: "June 2025 marks the full enforcement of India's Digital Personal Data Protection (DPDP) Act 2023. Organizations must implement comprehensive data governance frameworks. Implementation roadmap: (1) Data inventory - catalog all personal data, location (database/file), retention period, purpose, sensitivity level; (2) Privacy Impact Assessments (PIA) - conduct PIA for any new processing, high-risk processing, identify privacy risks and mitigation; (3) Retention policies - define data retention periods, auto-delete after retention expires, India DPDP mandates erasure within 30 days of consent withdrawal; (4) Access controls - least privilege, role-based access, audit logs for all access; (5) Breach procedures - maintain incident register, notify individuals within 72 hours of discovery, report to authority within 30 days; (6) Third-party management - vet vendors, ensure data processing agreements (DPA), audit vendors annually; (7) DPO appointment - designate Data Protection Officer, publish contact details, report to authority; (8) Consent management - maintain proof of consent, timestamp, consent duration, obtain fresh consent before June 2025. India-specific requirements: DPDP Act applies to organizations processing Indian residents' data globally. Sectoral regulations: RBI for financial data, MeitY for government, SEBI for capital markets. Penalties: ₹5 crore or 2% of turnover (whichever higher) for non-compliance. Best practices: encrypt personal data, anonymize data when possible, use privacy-by-design principles. Compliance tools: OneTrust, Truyo, TrustArc help manage DPDP compliance. Audit frequency: quarterly minimum, with third-party audit annually. Case study: Mumbai-based fintech company implemented full DPDP compliance in 4 months, affecting 2 million user records, cost ₹1.2 crore but avoided ₹50 crore potential penalty.", author: "Privacy Team", tags: ["privacy", "gdpr", "policy"] },
  { id: 9, title: "Threat Intelligence", category: "threats", date: "May 2025", readTime: "8 min", excerpt: "Collecting and operationalizing threat data.", content: "May 2025 threat landscape demands mature Threat Intelligence (TI) programs. TI lifecycle consists of: (1) Collection - sources include OSINT (Shodan, VirusTotal), commercial feeds (Mandiant, Recorded Future), ISACs (sectoral information sharing), dark web monitoring, SIEM logs, endpoints; (2) Analysis - contextualize indicators, identify patterns, assess impact and probability; (3) Dissemination - automated alerts for critical IOCs, tactical briefs for incident responders, strategic reports for executives; (4) Feedback - track remediation, measure TI effectiveness. TI types: Strategic (geopolitical trends, attacker motivations), Tactical (malware signatures, IOCs), Operational (attack campaigns, timelines). May 2025 recommendations: Subscribe to sector-specific threat feeds (e.g., financial sector: Cellebrite, healthcare: HHS), join ISACs (India has CERT-In, sectoral ISACs emerging), build internal TI teams with 1-2 analysts per 500 employees. Integration: feed IOCs into SIEM, firewall, endpoint detection systems with 2-hour update frequency. Threat hunting: establish hunting team, use MITRE ATT&CK framework, hunt for APT campaigns monthly, focus on indicators from past breaches. Emerging tools (May 2025): MISP (Malware Information Sharing Platform), Anomali ThreatStream, EclecticIQ automate TI collection. India-specific: CERT-In publishes 3-4 threat alerts daily, subscribe to mailing list, join India-ISAC. APT focus for May 2025: Lazarus targeting finance, APT41 targeting healthcare and tech, Wizard Spider (Conti) ransomware operations. TI ROI: organizations with mature TI programs detected breaches 40% faster than industry average.", author: "TI Team", tags: ["threat-intel", "ioc", "analysis"] },
  { id: 10, title: "Security Operations Center", category: "policy", date: "Apr 2025", readTime: "9 min", excerpt: "Establishing 24/7 SOCs for threat detection.", content: "April 2025 data shows organizations with SOCs detect and respond to incidents 40% faster, reducing breach impact by 60%. Establishing 24/7 SOC requires: (1) Structure - Tier 1 analysts monitor alerts (entry-level), Tier 2 analysts investigate incidents (3-5 years experience), Tier 3 responders handle complex incidents and strategic decisions (senior architects); (2) Core tools - SIEM (Splunk, Elastic, IBM QRadar) centralizes logs from firewalls, endpoints, servers; EDR (CrowdStrike, Microsoft Defender, SentinelOne) monitors endpoint behavior; threat feeds integrated with 30-minute updates; playbooks document response procedures; (3) Key metrics - MTTD (Mean Time To Detect) target <30 minutes for critical incidents, MTTR (Mean Time To Respond) target <2 hours for containment, Detection accuracy >95% to minimize false positives; (4) Staffing - 1 analyst per 500-1000 endpoints, 24/7 coverage requires 3 shifts minimum (3-4 analysts per shift); (5) Processes - incident triage (severity: critical/high/medium/low), escalation procedures, post-incident reviews, metrics dashboard for executives; (6) Red teaming - conduct exercises monthly simulating attacks, measure MTTD/MTTR, identify blind spots. April 2025 trend: managed SOCs (MSSP) growing, outsourced SOC services cost ₹50-100 lakhs monthly for mid-sized enterprises. India's CERT-In offers SOC readiness assessment. Setup timeline: 6-12 months from scratch, initial investment ₹1.5-3 crore. Tools ecosystem: SIEM (primary), SOAR (automation), vulnerability scanners, DNS security, email security. Case study: Delhi HQ bank established SOC in April 2025, reduced incident response time from 8 hours to 30 minutes, identified 45 threats in first month.", author: "SOC Ops", tags: ["soc", "siem", "ops"] },
  { id: 11, title: "Advanced Persistent Threats", category: "threats", date: "Mar 2025", readTime: "9 min", excerpt: "Understanding state-sponsored attacker tactics.", content: "March 2025 threat landscape reveals APT activities targeting Asia-Pacific region intensifying. APTs (Advanced Persistent Threats) are state-sponsored attackers conducting multi-month campaigns: sophisticated toolkits, targeted reconnaissance, prolonged network access. Major 2025 APT groups: Lazarus (North Korea) targeting finance and crypto, estimated $1.3 billion stolen YTD; APT28 (Russia/GRU) targeting defense contractors and government; APT41 (China) targeting healthcare, telecom, tech sectors; OceanLotus (Vietnam) targeting Southeast Asia; APT1/Comment Crew (China) establishing supply-chain backdoors. Detection strategies (March 2025): (1) YARA rules - write custom rules for known APT indicators, share rules with OSINT community; (2) Behavioral analytics - detect living-off-the-land techniques (using built-in Windows tools), unusual command patterns, lateral movement over months; (3) Threat hunting - monthly hunts using MITRE ATT&CK framework, focus on persistence mechanisms (scheduled tasks, registry modifications); (4) Forensic analysis - preserve endpoints for 1+ year if APT suspected, analyze memory dumps, timeline artifacts. India-specific: Lazarus targeting Indian fintech, APT28 reconnaissance against Indian defense contractors (reported March 2025). Defensive measures: (1) Network segmentation - isolate critical systems, restrict communication, zero-trust architecture; (2) EDR deployment - detect anomalous behavior, lateral movement attempts, data exfiltration; (3) Incident response - define procedures for long-term compromise (APTs may have been present 6+ months undetected), establish forensic capability; (4) Threat intelligence sharing - participate in ISACs, report APT activities to CERT-In, coordinate response. Recent campaign: APT41 spent 8 months in Indian healthcare network in early 2025 before detection, data exfiltration of 40+ million patient records. Response coordination improved detection to 14-day window by March 2025. Resources: subscribe to MITRE ATT&CK updates, CERT-In APT reports, private threat feeds.", author: "Threat Analysis", tags: ["apt", "threats", "analysis"] },
  { id: 12, title: "Cybersecurity Awareness for Education", category: "awareness", date: "Dec 2024", readTime: "6 min", excerpt: "Building security culture in schools and universities.", content: "December 2024 sees surge in ransomware targeting educational institutions in India, with 34 schools and 12 universities affected in Q4 2024. Educational institutions face unique challenges: student turnover, limited IT budgets, mixed device environments (BYOD). Threat landscape for education: phishing emails impersonating faculty/admin (62% click rate from students), ransomware on file sharing systems, identity theft using student data, lab equipment compromise. Building security culture requires: (1) Phishing recognition training - monthly simulations, real examples from institution, scoring system with incentives for awareness; (2) Policies and procedures - document password standards (no sharing research account), MFA for admin accounts, incident response procedures, vendor management guidelines; (3) Device security - mandate OS updates, endpoint protection on faculty/admin devices, block USB drives in computer labs unless approved; (4) Curriculum integration - include cybersecurity modules (3-5 hours) in first-year tech programs, emphasize ethical hacking and defense; (5) Awareness campaigns - posters, email reminders before exams (high phishing attempt period), YouTube videos, cybersecurity club monthly challenges; (6) Email filtering - deploy Proofpoint/Mimecast to block phishing, educate on legitimate institution domain variations; (7) Incident response - establish committee with IT director, security officer, finance; test response quarterly. December 2024 case study: Mumbai University improved security posture from 'deficient' to 'adequate' in 8 months with 12 awareness sessions reaching 5,000+ students, cost ₹8 lakhs. Resources: NASSCOM offers free education sector security guidelines, NCIIPC provides incident response templates, Microsoft grants free educational security tools.", author: "Edu Team", tags: ["awareness", "edu", "students"] },
  { id: 13, title: "Mobile Security in 2025", category: "threats", date: "Nov 2024", readTime: "7 min", excerpt: "Protecting smartphones and tablets from malware threats.", content: "November 2024 shows mobile devices are primary breach vectors for 56% of enterprises in India. Threats include: banking trojans (Flubot, SilentPusher) targeting 2FA, phishing via SMS and messaging apps, malware from third-party app stores, side-channel attacks on payment apps. Security strategies: (1) App store vetting - use only official Google Play and Apple App Store, review developer reputation, check app permissions (camera access unnecessary for fitness apps?), read negative reviews for red flags; (2) Permissions review - iOS 15+ shows permission history, Android 12+ scoped storage limits file access, grant minimal permissions (e.g., location only when app in use); (3) Updates - enable automatic OS and app updates, critical security patches released monthly; (4) MDM solutions - Intune, Jamf, MobileIron manage enterprise devices, enforce screen locks, remote wipe if compromised; (5) Antivirus/antimalware - Kaspersky Mobile Security, McAfee scans for known malware, though modern malware often zero-day; (6) Encrypted messaging - Signal, WhatsApp use end-to-end encryption for sensitive communications. User education (Nov 2024): avoid sideloading apps (downloading from non-official stores increases malware risk 40x), use VPN on public WiFi, disable Bluetooth unless needed, avoid connecting to unknown WiFi (known SSIDs spoofed), phishing via SMS increases (verify URLs before clicking, spelling errors common). India-specific: CERT-In reported 28 new banking trojans in Oct 2024 targeting Indian banking apps. Authentication: biometric (fingerprint, face) more secure than PIN, use on banking/payment apps. Backup: use encrypted cloud backup (Google Drive, iCloud with 2FA). Industry adoption: financial services now mandate MDM for employee devices, insurance companies using mobile threat defense (Zimperium, Wandera). Estimated losses from mobile malware in India: ₹2,400 crore annually (Nov 2024 data).", author: "Mobile Team", tags: ["mobile", "android", "ios"] },
  { id: 14, title: "Incident Response Planning", category: "policy", date: "Oct 2024", readTime: "10 min", excerpt: "Creating effective incident response procedures and playbooks.", content: "October 2024 average cost of data breach in India: ₹1.78 crore with 215-day detection-to-containment timeline. Effective IR planning reduces this to ₹45 lakhs with 8-10 day timeline. IR lifecycle: (1) Preparation - establish IR team (incident commander, technical lead, communications officer, legal), define roles/responsibilities, pre-authorize escalation procedures; (2) Detection & Analysis - identify breach indicators (unusual network traffic, failed logins, data exfiltration), classify severity (Critical: customer data exposed; High: system compromised; Medium: unsuccessful attack detected; Low: security control triggered), activate war room; (3) Containment - short-term: isolate affected systems from network, preserve evidence, start forensic imaging; long-term: patch vulnerability, rebuild systems, harden similar systems; (4) Eradication - remove attacker tools, close backdoors, eliminate persistence mechanisms (scheduled tasks, registry modifications); (5) Recovery - restore systems from clean backups, verify functionality, monitor for 30+ days for re-infection; (6) Post-incident - conduct blameless review within 72 hours, identify root cause, document lessons learned, update policies/procedures. Playbooks for common incidents: (1) Ransomware - do NOT pay ransom, activate IR team within 2 hours, isolate file servers, restore from immutable backups, preserve sample for analysis; (2) Data breach - notify individuals within 72 hours (DPDP requirement), report to CERT-In, coordinate with law enforcement, manage media communication; (3) DDoS - activate DDoS mitigation service (Cloudflare, AWS Shield), scale infrastructure, notify upstream ISP. Testing: conduct IR exercises quarterly, measure MTTD (<30 min target), MTTR (<4 hr target), 50% scenario-based + 50% tool-based exercises. October 2024 trend: attack simulation services (red teams) popular for validation. Tools: SOAR platform automates response, ticketing system tracks incidents, VPN for secure communications. Industry benchmark: financial sector 48-hour response requirement, healthcare same day, others 72 hours per DPDP. Documentation template: incident report includes timeline, impact assessment, lessons learned. Training: IR team participates in 4-hour incident response simulation quarterly. India-specific: CERT-In incident notification template and procedures mandatory.", author: "IR Experts", tags: ["incident", "response", "planning"] },
  { id: 15, title: "Vulnerability Management", category: "policy", date: "Sep 2024", readTime: "8 min", excerpt: "Identifying, prioritizing, and remediating security vulnerabilities.", content: "September 2024 CVSS vulnerability data shows organizations leaving critical vulnerabilities unpatched for average 97 days, 87% of breaches use known vulnerabilities. Vulnerability Management (VM) lifecycle: (1) Discovery - automated scanning with Nessus, Qualys, OpenVAS discovers vulnerabilities in networks, web applications, databases, cloud infrastructure; daily scans minimum, real-time discovery for critical assets; (2) Assessment - severity rating using CVSS v3.1 (0-10 scale), context (is this data sensitive?), exploitability (is exploit public?), asset criticality; (3) Prioritization - focus on Critical CVSS 9.0+, active exploits, internet-facing systems, data-handling systems; (4) Remediation - establish SLAs: critical within 24 hours, high within 7 days, medium within 30 days, low within 90 days; patch management process separate from VM (OS updates more aggressive, app patches less frequent); (5) Verification - after remediation, rescan within 7 days to confirm fix, document evidence. Patch management (September 2024): Microsoft Patch Tuesday (2nd Tuesday monthly), Adobe monthly updates, zero-day patches when needed. Tools: Qualys VMDR, Tenable.io, Rapid7 InsightVM automate full lifecycle. Integration: SIEM feeds vulnerability data + endpoint telemetry = prioritized work queue. Bypass techniques: defenders must address false positives (10-30% typical), segment networks to limit vulnerability impact, implement compensating controls (WAF for unpatched web apps). Emerging 2024: vulnerability disclosure programs (VDP) incentivize responsible disclosure (bug bounties), organizations discovering their own vulnerabilities before attackers. India-specific: DSCI published vulnerability management guidelines (Sept 2024), CERT-In publishes daily vulnerability alerts with Indian context. Case study: Bangalore tech company discovered 4,200 vulnerabilities in Sept 2024 assessment, prioritized to 89 critical, remediated all within 30 days using coordinated patching. Cost: ₹12 lakhs in tools + labor, avoided estimated ₹5 crore breach. VM ROI: every dollar spent on VM prevents ₹25 breach cost.", author: "Vuln Team", tags: ["vulnerability", "scanning", "patching"] },
  { id: 16, title: "Email Security Best Practices", category: "awareness", date: "Aug 2024", readTime: "6 min", excerpt: "Protecting against phishing, spam, and email-based threats.", content: "August 2024 statistics: email remains primary attack vector for 91% of breaches, phishing costs organizations ₹2+ crore per incident. Email security defense layers: (1) SPF (Sender Policy Framework) - authorize which servers send email for your domain, prevents domain spoofing, add all mail servers to SPF record; (2) DKIM (DomainKeys Identified Mail) - cryptographic signature proves email hasn't been altered, configure for all subdomains; (3) DMARC (Domain-based Message Authentication) - enforces SPF/DKIM, instructs recipient on failure handling (quarantine/reject), monitor DMARC reports for spoofing attempts; (4) Advanced filtering - AI detects phishing with 99.2% accuracy (Proofpoint, Mimecast), sandboxes suspicious attachments (detonate in isolated environment), URL rewriting appends session tokens preventing attacker redirect. User training (August 2024): identify sender mismatches, verify URLs hover-over (legitimate URLs don't hide destinations), recognize urgency tactics (account will be closed!), spot typos/grammar errors (Indian phishing attempts often grammatically imperfect), validate sender if suspicious (call known number, never call provided number). Red flags: unexpected attachments especially .exe, .zip, .scr; requests for credentials; links to login pages (always go directly to website); unusual sender addresses. DLP (Data Loss Prevention) policies prevent sensitive data exfiltration via email - scan outbound for: credit card numbers, PII, technical data, trade secrets. HIPAA/PCI compliance requires encryption for sensitive emails. Archive & monitoring: retain emails 3-7 years per industry, search for suspicious patterns (employee sending large data volumes to personal email), disable external email forwarding. Emerging: AI assistants (ChatGPT) making phishing more convincing, spear-phishing harder to detect. India case (Aug 2024): 18 executives at Delhi bank received spoofed CEO emails requesting fund transfers, 3 fell victim, ₹2.1 crore transferred before recovery. SPF/DKIM/DMARC would have prevented. Tools: G Suite Security, Microsoft Defender for Office 365, Proofpoint Essentials automate first 3 defenses. Cost: phishing-resistant MFA (hardware security keys) adoption accelerating to 12% (Aug 2024 from 4% in 2023).", author: "Email Team", tags: ["email", "phishing", "filtering"] },
  { id: 17, title: "Wireless Security Standards", category: "policy", date: "Jul 2024", readTime: "7 min", excerpt: "Securing WiFi networks with WPA3 and modern protocols.", content: "July 2024 marks shift to WPA3 adoption as WPA2 vulnerabilities (KRACK attack residual effects) persist. Wireless security evolution: WEP (broken 2005) → WPA (broken 2006) → WPA2 (deployed 2004-2024, still secure if configured well) → WPA3 (launched 2018, production use July 2024+). WPA3 improvements: Simultaneous Authentication of Equals (SAE) replaces Pre-Shared Key (PSK) exchange, prevents brute-force dictionary attacks; Individualized Data Encryption (individualized) - each user gets unique encryption key even on shared networks; 192-bit encryption for enterprise. Home WiFi (July 2024 best practices): (1) Strong passwords - 20+ character WPA3 passphrase (AES-256 encryption), random character mix; (2) Hidden SSID - optional security (MAC filtering breaks with spoofing, so limited value); (3) Rogue AP detection - regularly scan WiFi networks with apps like WiFi Analyzer (Android) or NetSpot (Windows/Mac) to identify unknown APs; (4) Guest networks - isolate guests from main network, change password frequently. Enterprise WiFi (July 2024): (1) 802.1X authentication - users authenticate with credentials (not shared password), uses RADIUS server, certificate-based or EAP methods; (2) WPA3-Enterprise - 192-bit encryption, per-user key; (3) WiFi 6E (802.11ax on 6 GHz) - additional spectrum reduces interference, faster speeds; (4) Regular surveys - site surveys identify dead zones, interference, rogue APs. Security monitoring: packet capture on WiFi (Wireshark) detects unencrypted traffic, behavioral analytics detect credential attacks on WiFi. Compliance: PCI-DSS requires WPA2 minimum (not WEP), GDPR/DPDP requires encryption. India adoption (July 2024): premium hotels, hospitals adopting WPA3; government buildings mandated WPA2-Enterprise; corporate offices transitioning mid-2024-2025. Tools: Ubiquiti UniFi, Cisco Meraki, Arista offer WPA3-ready enterprise solutions. Rogue AP risks: attacker intercepts traffic, injects malware, steals credentials. Mitigation: employee training on unknown WiFi identification, VPN enforcement on WiFi (split tunneling allowed at company discretion), endpoint isolation (not accessing sensitive data on WiFi). Cost: WPA3 router upgrade ₹8,000-20,000, enterprise AP ₹20,000-50,000 per unit. Timeline: expect 80% WiFi WPA3 by end of 2025.", author: "Network Team", tags: ["wifi", "wpa3", "wireless"] },
  { id: 18, title: "Password Management Strategies", category: "awareness", date: "Jun 2024", readTime: "5 min", excerpt: "Creating and managing secure passwords across organizations.", content: "June 2024 data breach analysis shows 79% of breaches involve weak/reused passwords. Secure passwords: minimum 16 characters, mix uppercase (A-Z), lowercase (a-z), numbers (0-9), symbols (!@#$%^&*); unique per account (never reuse), changed if compromised. Password weaknesses: common patterns (Password123, 123456), personal information (name, birthdate), dictionary words. Tools: password managers (Bitwarden open-source, 1Password, LastPass) generate 32-character random passwords, auto-fill forms, sync across devices, encrypted master password protects all. MFA adds security layer: something you know (password), something you have (phone/hardware key), something you are (biometric). June 2024 adoption: MFA on 34% of business accounts (target 100%), phishing-resistant MFA (hardware security keys like YubiKey) only 8% adoption. Organizational policies (June 2024): (1) Password length - minimum 16 characters (industry moving from old 8-character standards), enforce in Active Directory; (2) Complexity - reject dictionary words, common patterns, recent passwords; (3) Expiration - controversial (NIST recommends NO expiration if strong password + MFA), but if used, 90-120 days; (4) Account lockout - after 5 failed attempts, lock 30 minutes, prevent brute-force attacks; (5) Shared accounts - eliminate (use SSO instead), if unavoidable, change quarterly; (6) Education - monthly reminders on password security, phishing risks. Password spray attacks (June 2024 trend): attackers try common passwords (password123, Welcome1) against many accounts, 1-2% success rate funds ransomware operations. Defense: implement anomalous login detection (login from unusual geography), require MFA for VPN access, monitor failed login patterns. Healthcare compliance (June 2024): HIPAA requires strong passwords for patient data access, audit trails for password resets. Financial sector: PCI-DSS requires unique passwords, encryption for stored credentials. Cost-benefit: password manager subscription ₹500-1000/year/user prevents estimated ₹2-5 crore breach. India DPDP (June 2024): requires secure password handling for personal data systems.", author: "Access Team", tags: ["passwords", "mfa", "authentication"] },
  { id: 19, title: "Secure Development Practices", category: "policy", date: "May 2024", readTime: "9 min", excerpt: "Building security into software development lifecycle.", content: "May 2024 statistics: fixing security issues in production costs 6-10x more than fixing in development. Secure SDLC (Software Development Lifecycle): (1) Threat modeling - identify assets, threats, attack vectors before coding, use STRIDE model (Spoofing, Tampering, Repudiation, Information Disclosure, Denial of Service, Elevation of Privilege), document security requirements; (2) Code review - peer review minimum 2 reviewers before merge to main, focus on common vulnerabilities (injection, authentication, authorization, XXE); (3) SAST (Static Application Security Testing) - tools like SonarQube, Checkmarx scan source code for vulnerabilities before compilation, integrate into IDE and CI/CD, flag issues pre-commit; (4) DAST (Dynamic Application Security Testing) - tools like Burp Suite, OWASP ZAP test running application, penetration tests identify real-world vulnerabilities; (5) Dependency scanning - tools like Snyk, WhiteSource scan third-party libraries for known vulnerabilities, update dependencies on risk schedule; (6) Security testing - conduct functional security tests (authentication bypass, authorization flaws), fuzzing tests (malformed inputs), load testing (DDoS resistance). DevSecOps integration (May 2024): shift security left (earlier in development), automated security gates prevent insecure code merge, security team embedded with dev teams. OWASP Top 10 (2024): (1) Broken Access Control (40% of breaches), (2) Cryptographic Failures (29%), (3) Injection (94% web apps vulnerable), (4) Insecure Design (lack of threat modeling), (5) Security Misconfiguration (90% of apps have misconfigs), (6) Vulnerable Components (dependency risks), (7) Authentication Failures, (8) Data Integrity Failures, (9) Logging Failures, (10) SSRF (Server-Side Request Forgery). Container scanning: Docker Security Scanning, Trivy scan images for vulnerabilities before production deployment. GitOps: store IaC (Infrastructure as Code) in version control, audit all changes, automated deployment only after security approval. India-specific (May 2024): NASSCOM published Secure Development guidelines, compliance with DPDP Act requires secure data handling in code. Tools: GitHub Security, GitLab Dependency Scanning provide free/low-cost SAST/DAST. Training: developers need 8-16 hours security training annually (OWASP, secure coding), hands-on labs. ROI: Secure SDLC adds 10-15% development time but prevents 80%+ of production vulnerabilities.", author: "Dev Team", tags: ["devsecops", "sdlc", "coding"] },
  { id: 20, title: "Insider Threat Detection", category: "threats", date: "Apr 2024", readTime: "8 min", excerpt: "Identifying and mitigating risks from internal actors.", content: "April 2024 data: insider threats account for 43% of incidents (up from 34% in 2022), average cost ₹3.5 crore. Insider threat types: (1) Malicious insiders - intentionally steal data (ex-employees with access, compromised accounts), (2) Negligent insiders - accidentally expose data (email misdirected, unencrypted laptop), (3) Compromised insiders - legitimate employee account hacked by external attackers. Detection technologies (April 2024): (1) User Behavior Analytics (UBA) - baseline normal user behavior, detect anomalies (accessing files outside job role, downloading large data volumes, unusual login times/locations), tools: Exabeam, Securonix, Splunk; (2) File access monitoring - log who accessed what file when, detect unusual patterns (accountant accessing engineering designs); (3) Endpoint DLP - prevent USB copy of sensitive files, screen capture restrictions, printer blocking for classified docs; (4) Email DLP - detect sensitive data in emails (credit card numbers, PII), block external email with attachments + credentials. Behavioral red flags (April 2024): employee expressing discontent, suddenly interested in competitor info, accessing systems outside typical hours, searching for HR/payroll data before resignation, large file downloads before departure. Organizational controls: (1) Least privilege - grant minimum access needed (IT dev shouldn't have finance access), segregation of duties (one person can't initiate AND approve payment); (2) Monitoring - enable comprehensive logging for 90+ days minimum, correlate SIEM data for patterns; (3) Access reviews - quarterly audit who has what access, disable unused accounts within 7 days of departure; (4) Exit procedures - revoke access immediately on termination, retrieve hardware, conduct exit interviews. Case study (April 2024): Delhi fintech employee downloaded 18 months of customer data into personal cloud storage, detected via UBA flagging 3 GB download to unusual location, company recovered data within 24 hours, reported to CERT-In, employee prosecuted. Prevention cost ₹5 lakhs vs. ₹4 crore breach damage. India-specific: Information Technology Act Section 66 covers data theft by insiders, imprisonment up to 3 years + fine. Awareness: train employees on data handling, insider threat risks, reporting procedures. False positives: UBA tools generate 20-40% false positives (legitimate business activities), tune rules carefully to reduce alert fatigue.", author: "Threat Team", tags: ["insider", "threat", "detection"] },
  { id: 21, title: "Network Segmentation Strategies", category: "policy", date: "Mar 2024", readTime: "9 min", excerpt: "Implementing network zones and microsegmentation.", content: "March 2024 best practice: network segmentation reduces breach impact by 68%. Traditional segmentation: (1) DMZ (Demilitarized Zone) - internet-facing servers (web, email, DNS), isolated from internal network with firewalls, attackers compromise DMZ but can't reach internal systems; (2) Internal networks - segregate by function (finance, HR, engineering), restrict lateral movement between zones; (3) Guest networks - separate from corporate, no access to internal resources. Microsegmentation (March 2024 trend): zero-trust network, divide network into small zones, enforce security policy between each zone (not just perimeter). Implementation: (1) Firewalls & ACLs - stateful firewalls between zones, define whitelist rules (allow only necessary traffic), deny-all default policy, tools: Cisco ASA, Palo Alto Networks; (2) VLANs - virtual LANs segment traffic by switch port, department, or application, not sufficient alone (VLAN hopping possible), combine with firewall; (3) Microsegmentation appliances - Illumio, Guardicore segment networks at application/process level, track communication relationships, identify and block anomalies. Implementation roadmap (March 2024): Phase 1 (months 1-3): Asset discovery - map network, identify systems, communication flows; Phase 2 (months 4-6): Policy creation - define allowed traffic patterns, least privilege rules; Phase 3 (months 7-9): Deployment - implement firewall rules, test rules before enforcement; Phase 4 (months 10+): Monitoring - watch inter-segment traffic for policy violations, anomaly detection. Monitoring benefits: detect lateral movement (attacker after compromising one system tries to access others), identify data exfiltration (unusual communication to external IPs). Case study (March 2024): Mumbai healthcare chain implemented network segmentation in Q1 2024, separated clinical systems from administrative systems, ransomware in April 2024 was contained to finance segment, clinical systems unaffected, saved ₹2 crore in downtime. Tools: Cisco, Palo Alto, Fortinet offer segmentation features, cloud segmentation (AWS Security Groups) equivalent. Performance impact: segmentation adds <5% latency if properly designed, benefits outweigh minimal latency. Compliance: PCI-DSS requires network segmentation for payment systems, HIPAA requires segmentation for PHI, India DPDP recommends segmentation for personal data systems.", author: "Network Team", tags: ["segmentation", "firewall", "network"] },
  { id: 22, title: "Backup and Disaster Recovery", category: "policy", date: "Feb 2024", readTime: "8 min", excerpt: "Building resilient backup and recovery strategies.", content: "February 2024 ransomware statistics: 34% of attacks also hit backups, making traditional backup-based recovery impossible. Backup strategy: 3-2-1 rule - 3 copies of data (production + 2 backups), 2 different media types (disk + tape), 1 offsite copy (cloud or physical location). Implementation (Feb 2024): (1) On-site backup - daily incremental to disk (fast recovery, <4 hours RTO), weekly full backups, retained 4 weeks, test recovery monthly; (2) Off-site backup - weekly to cloud (AWS S3, Azure Blob) or physical location, retained 12 months for compliance, immutable (can't delete or modify) to prevent ransomware deletion; (3) Air-gapped backup - manually disconnected copy, ransomware can't encrypt, restore from this copy if primary backup compromised. RTO (Recovery Time Objective) targets (Feb 2024): Critical systems <4 hours, important systems <24 hours, non-critical systems <7 days. RPO (Recovery Point Objective): data loss tolerance, 1 hour typical (lose 1 hour of transactions). Disaster Recovery (DR) tiers: Cold site (manual recovery days), Warm site (partial infrastructure, hours to recover), Hot site (full duplicate, minutes failover). Testing (Feb 2024 best practice): quarterly DR tests, simulate failures, measure actual RTO/RPO, document lessons learned. Case study (Feb 2024): Hyderabad e-commerce company experienced ransomware with backup compromise, recovery took 3 weeks using air-gapped tape backup (stored offsite in vault), cost ₹1.5 crore recovery vs. ₹8 crore operational loss prevented. Tools: Veeam Backup & Replication, Nakivo, Commvault backup/DR orchestration, cloud-native solutions (AWS Backup, Azure Site Recovery). Encryption: backup encryption required (AES-256) for sensitive data, encryption keys stored separately, multi-party approval for key access. Compliance (Feb 2024): DPDP Act requires backup for personal data (erasure must be verifiable), PCI-DSS requires tested recovery procedures, HIPAA requires daily backup with recovery testing. India-specific: CERT-In recommends RTO <24 hours, RPO <4 hours for critical infrastructure, data localization means backups must remain in India (AWS Mumbai/Azure India regions).", author: "DR Team", tags: ["backup", "disaster", "recovery"] },
  { id: 23, title: "Compliance Frameworks Overview", category: "policy", date: "Jan 2024", readTime: "10 min", excerpt: "Understanding ISO 27001, SOC 2, NIST, HIPAA frameworks.", content: "January 2024 compliance landscape for India: primary framework DPDP Act 2023 (effective June 2024), complemented by sectoral regulations. Framework overview: (1) ISO 27001 - general information security management, 114 controls, international standard, applicable to all organizations globally, audit by accredited bodies, certification valid 3 years + annual surveillance audits, cost ₹20-50 lakhs for small organization; (2) SOC 2 (System & Organization Controls) - US framework for service providers (SaaS, cloud, managed services), 2 types: Type I (controls design), Type II (operating effectiveness 6+ months), audits by licensed AICPA auditors, required by enterprise customers, cost ₹30-80 lakhs; (3) NIST Cybersecurity Framework - US government framework, 5 functions (Identify, Protect, Detect, Respond, Recover), not certification, provides guidance, popular with Fortune 500 companies, India Defense ministry adopting; (4) HIPAA - US healthcare privacy/security rule, covers Protected Health Information (PHI), HITECH Act adds breach notification, India healthcare providers storing patient data in US must comply; (5) PCI-DSS - payment card industry, mandatory for storing/processing credit cards, 12 requirements, quarterly assessments, breaches attract fines ₹50+ lakhs; (6) GDPR - EU privacy regulation, applies if processing EU residents' data (extra-territorial), fines up to €20 million or 4% turnover, similar to India DPDP Act; (7) India DPDP Act 2023 - mandatory June 2024, applies to Indian residents' personal data, 8 core principles, consent requirement, data protection officer appointment. Typical compliance path (Jan 2024): small business - start with DPDP Act + ISO 27001; mid-market - DPDP Act + ISO 27001 + SOC 2 if SaaS; enterprise - DPDP Act + ISO 27001 + SOC 2 + NIST + sector-specific (RBI for finance, etc.). Implementation timeline: 6-12 months ISO 27001, 12+ months SOC 2, ongoing NIST framework. Resources: ISO maintains documentation, AICPA publishes SOC 2 criteria, NIST publishes framework online, India MeitY publishes DPDP guidance. Audit: external auditors validate compliance, internal audits between external audits, management responsibility for continuous compliance. Cost vs. benefit: compliance investment 2-5% of IT budget, but enables enterprise sales (CIOs demand compliance), reduces breach risk 45%, reduces cyber insurance premiums 10-20%.", author: "Compliance Team", tags: ["compliance", "iso", "soc2"] },
  { id: 24, title: "Penetration Testing Guide", category: "threats", date: "Dec 2023", readTime: "9 min", excerpt: "Planning and executing effective penetration tests.", content: "December 2023 penetration testing market: 61% of enterprises conduct annual pentests, average cost ₹15-50 lakhs for full engagement. Penetration test phases: (1) Planning & reconnaissance - define scope (in-scope: web app, APIs, internal network; out-of-scope: production databases), obtain written authorization (ESSENTIAL legally), gather information (OSINT on company, employees, social media); (2) Scanning & enumeration - active scanning (port scans with Nmap), identify services/versions, passive enumeration (gather system info without disruption), tools: Nessus, Qualys, OpenVAS; (3) Exploitation - test vulnerabilities (SQL injection, XSS, authentication bypass), gain access, establish persistence, escalate privileges; (4) Post-exploitation - determine value of access (sensitive data accessible?), attempt lateral movement (compromise additional systems), document findings; (5) Reporting - describe vulnerabilities with business impact (not just technical), provide remediation guidance, prioritize by severity (critical: exploitable + high impact). Test types (Dec 2023): (1) Black-box - attacker has no knowledge, simulates real-world attack, highest value, most expensive; (2) White-box - full knowledge (credentials, architecture), most thorough, identifies fewer misconfigurations; (3) Gray-box - partial knowledge, balanced cost/value. Frequency recommendations: critical assets annually, important systems every 6 months, continuous testing programs (run-the-Red-Team) emerging (Synack, Intigriti). Remediation: define fix timelines (critical 24 hours, high 7 days, medium 30 days), re-test after fixes. Bug bounties (Dec 2023 trend): complement internal pentests, crowdsourced testing more cost-effective for certain vulnerabilities (₹500-100K bounties vs. ₹50+ lakh engagement), India bug bounty platforms emerging (HackerEarn, DeepSecure). Legal risks: pentesting without authorization is illegal (Computer Misuse Act Section 66), Get written scope authorization, involve legal team. Case study (Dec 2023): Bangalore startup conducted $10K black-box pentest, identified critical SQL injection in production, developer had tested in development but missed in production deployment, fixed within 24 hours, prevented estimated $500K+ breach. Tools: Burp Suite (web apps), Metasploit (exploitation), Nmap (reconnaissance), Wireshark (traffic analysis), custom scripts. Report components: executive summary (30-second overview), technical findings (detailed descriptions), remediation guidance, proof-of-concept code/screenshots. Industry benchmarks: financial sector 100% pentest coverage, healthcare 85%, tech 92%, India DSCI recommends annual minimum.", author: "Security Team", tags: ["pentest", "testing", "assessment"] }
];

// DOM
const blogsGrid = document.getElementById("blogsGrid");
const filterChips = document.querySelectorAll(".chip");
const searchInput = document.querySelector(".blog-search-input");
let activeFilter = "all";

// Load user-created blogs from localStorage
const userBlogs = JSON.parse(localStorage.getItem('userBlogs') || '[]');
const allBlogs = [...blogs, ...userBlogs];

// Filter
filterChips.forEach((chip) => {
  chip.addEventListener("click", () => {
    filterChips.forEach((c) => c.classList.remove("chip-active"));
    chip.classList.add("chip-active");
    activeFilter = chip.dataset.filter;
    renderBlogs();
  });
});

// Search
searchInput?.addEventListener("input", (e) => {
  const query = e.target.value.toLowerCase();
  const filtered = allBlogs.filter((blog) =>
    blog.title.toLowerCase().includes(query) || blog.excerpt.toLowerCase().includes(query)
  );
  blogsGrid.innerHTML = "";
  
  if (filtered.length === 0) {
    blogsGrid.innerHTML = `
      <div style="grid-column: 1 / -1; text-align: center; padding: 3rem 1rem; color: var(--color-text-secondary);">
        <i class="fa-solid fa-magnifying-glass" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
        <p style="font-size: 1.1rem;">No results found for "<strong style="color: var(--color-text-primary);">${query}</strong>"</p>
        <p style="font-size: 0.9rem; margin-top: 0.5rem;">Try different keywords or browse by category.</p>
      </div>
    `;
  } else {
    filtered.forEach((blog) => createBlogCard(blog));
  }
});

// Render
function renderBlogs() {
  const filtered = activeFilter === "all" ? allBlogs : allBlogs.filter((b) => b.category === activeFilter);
  blogsGrid.innerHTML = "";
  
  if (filtered.length === 0) {
    blogsGrid.innerHTML = `
      <div style="grid-column: 1 / -1; text-align: center; padding: 3rem 1rem; color: var(--color-text-secondary);">
        <i class="fa-solid fa-search" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
        <p style="font-size: 1.1rem;">No blogs found in this category.</p>
        <p style="font-size: 0.9rem; margin-top: 0.5rem;">Try selecting a different category or searching for keywords.</p>
      </div>
    `;
    return;
  }
  
  filtered.forEach((blog) => createBlogCard(blog));
}

// Create card
function createBlogCard(blog) {
  const card = document.createElement("article");
  card.className = "blog-card reveal";
  const isPublished = blog.id && blog.id <= 24; // Built-in blogs are published
  const publishedBadge = isPublished 
    ? '<div style="position: absolute; top: 1rem; right: 1rem; background: linear-gradient(135deg, #22c55e, #16a34a); color: white; padding: 0.35rem 0.85rem; border-radius: 20px; font-size: 0.7rem; font-weight: 700; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);"><i class="fa-solid fa-check-circle"></i>Published</div>' 
    : '<div style="position: absolute; top: 1rem; right: 1rem; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 0.35rem 0.85rem; border-radius: 20px; font-size: 0.7rem; font-weight: 700; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);"><i class="fa-solid fa-star"></i>Submitted</div>';
  
  card.innerHTML = `
    <div style="position: relative;">
      ${publishedBadge}
      <div class="blog-tag">${blog.category}</div>
    </div>
    <h3 class="blog-title">${blog.title}</h3>
    <div class="blog-meta"><i class="fa-regular fa-calendar" style="margin-right: 0.5rem;"></i>${blog.date}  <span style="margin: 0 0.5rem;">•</span>  <i class="fa-regular fa-clock" style="margin-right: 0.5rem;"></i>${blog.readTime} read</div>
    <p class="blog-excerpt">${blog.excerpt}</p>
    <div class="blog-tags">
      ${blog.tags.map((tag) => `<span class="tag">#${tag}</span>`).join("")}
    </div>
  `;
  blogsGrid.appendChild(card);
  // If a shared IntersectionObserver exists (from main.js), observe this card
  if (typeof observer !== "undefined") {
    try {
      observer.observe(card);
    } catch (e) {
      // noop - if observer is not available or observing fails, continue
    }
  }

  // Open blog modal on click to show full content
  card.addEventListener("click", () => {
    openBlogModal(blog);
  });
}

// Mobile: toggle the filter sidebar
const filterToggle = document.getElementById("filterToggle");
const blogsFilter = document.querySelector(".blogs-filter");
if (filterToggle && blogsFilter) {
  filterToggle.addEventListener("click", () => {
    blogsFilter.classList.toggle("open");
  });
}

// Init render and ensure reveal elements are observed by the global observer
renderBlogs();

if (typeof observer !== "undefined") {
  document.querySelectorAll(".reveal").forEach((el) => {
    try {
      observer.observe(el);
    } catch (e) {
      // ignore
    }
  });
}

// Modal logic for blog details
const blogModal = document.getElementById("blogModal");
const modalTitle = document.getElementById("modalTitle");
const modalMeta = document.getElementById("modalMeta");
const modalContent = document.getElementById("modalContent");
const modalClose = document.getElementById("modalClose");

function formatBlogContent(content) {
  if (!content) return '';
  
  // Split by double newlines or blank lines to create paragraphs
  const paragraphs = content.split(/\n\s*\n/).filter(p => p.trim());
  
  // Wrap each paragraph in <p> tags and format
  return paragraphs
    .map(para => `<p class="blog-paragraph">${para.trim()}</p>`)
    .join('');
}

function openBlogModal(blog) {
  if (!blogModal) return;
  modalTitle.textContent = blog.title || "";
  
  // Enhanced metadata with icons
  const isPublished = blog.id && blog.id <= 24;
  const badge = isPublished 
    ? '<i class="fa-solid fa-check-circle" style="color: #22c55e;"></i> Published' 
    : '<i class="fa-solid fa-star" style="color: #3b82f6;"></i> User Submission';
  
  modalMeta.innerHTML = `
    <div style="display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap; color: var(--color-text-secondary); margin-bottom: 1.5rem;">
      <span><i class="fa-regular fa-calendar" style="margin-right: 0.5rem;"></i>${blog.date}</span>
      <span><i class="fa-regular fa-clock" style="margin-right: 0.5rem;"></i>${blog.readTime}</span>
      <span><i class="fa-regular fa-user" style="margin-right: 0.5rem;"></i>By ${blog.author || "Anonymous"}</span>
      <span>${badge}</span>
    </div>
  `;
  
  // Use proper HTML formatting for content
  const formattedContent = formatBlogContent(blog.content || blog.excerpt || "");
  modalContent.innerHTML = formattedContent || `<p>${blog.excerpt || ""}</p>`;
  
  blogModal.classList.remove("hidden");
  // prevent background scroll
  document.documentElement.style.overflow = 'hidden';
}

function closeBlogModal() {
  if (!blogModal) return;
  blogModal.classList.add("hidden");
  document.documentElement.style.overflow = '';
}

if (modalClose) modalClose.addEventListener("click", closeBlogModal);
if (blogModal) {
  // clicking backdrop closes modal
  blogModal.addEventListener("click", (e) => {
    if (e.target.classList.contains("modal-backdrop") || e.target === blogModal) {
      closeBlogModal();
    }
  });
}

document.addEventListener("keydown", (e) => {
  if (e.key === "Escape") closeBlogModal();
});
