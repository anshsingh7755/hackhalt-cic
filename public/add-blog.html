<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Blog - HackHalt CIC</title>

  <meta
    name="description"
    content="Create and publish a new cybersecurity blog post on HackHalt CIC."
  />

  <!-- Google Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <!-- Font Awesome Icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <link rel="stylesheet" href="assets/css/style.css" />
  <style>
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }

    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }

    .form-group-full {
      grid-column: 1 / -1;
    }

    .add-blog-container {
      background: var(--surface-secondary);
      border-radius: 8px;
      padding: 2rem;
      margin: 2rem 0;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group label {
      font-weight: 600;
      font-size: 0.95rem;
      color: var(--text-primary);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      padding: 0.75rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--surface-primary);
      color: var(--text-primary);
      font-family: inherit;
      font-size: 0.95rem;
      transition: border-color 0.2s;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 150px;
    }

    .tags-input-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      padding: 0.5rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--surface-primary);
      min-height: 40px;
    }

    .tags-input {
      flex: 1;
      min-width: 100px;
      border: none;
      background: transparent;
      color: var(--text-primary);
      font-size: 0.95rem;
    }

    .tags-input:focus {
      outline: none;
    }

    .tag-badge {
      background: var(--accent-color);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .tag-badge button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      padding: 0;
      display: flex;
      align-items: center;
    }

    .form-actions {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }

    .form-actions button {
      flex: 1;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-submit {
      background: var(--accent-color);
      color: white;
    }

    .btn-submit:hover {
      background: #5a5ce3;
    }

    .btn-reset {
      background: var(--border-color);
      color: var(--text-primary);
    }

    .btn-reset:hover {
      background: var(--text-tertiary);
    }

    .success-message {
      background: #dcfce7;
      color: #166534;
      border: 1px solid #86efac;
      border-left: 4px solid #22c55e;
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1.5rem;
      display: none;
      animation: slideDown 0.3s ease-out;
      box-shadow: 0 2px 8px rgba(34, 197, 94, 0.15);
      gap: 0.75rem;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .success-message.show {
      display: flex !important;
      align-items: center;
    }

    .success-message i {
      font-size: 1.2rem;
      flex-shrink: 0;
      margin-right: 0.75rem;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .preview-section {
      background: var(--surface-primary);
      border-radius: 8px;
      padding: 2rem;
      margin-top: 2rem;
    }

    .preview-section h3 {
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .blog-card-preview {
      background: var(--surface-secondary);
      border-radius: 8px;
      padding: 1.5rem;
      border-left: 4px solid var(--accent-color);
    }

    .read-time-info {
      font-size: 0.85rem;
      color: var(--text-tertiary);
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <!-- ========== HEADER / NAV ========== -->
  <header class="site-header">
    <div class="container nav-container">
      <a href="/" class="logo-wrapper" aria-label="HackHalt CIC Home">
        <img src="images/logo.png" alt="HackHalt CIC Logo" class="logo" />
        <div class="logo-text">
          <span class="logo-title">HackHalt</span>
          <span class="logo-subtitle">Cyber Intelligence Council</span>
        </div>
      </a>

      <nav class="nav">
        <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
          <span></span><span></span><span></span>
        </button>

        <!-- Primary Navigation (Top Row) -->
        <ul class="nav-links nav-primary" id="navLinks">
          <li><a href="/">Home</a></li>
          <li class="nav-item-with-submenu">
            <a href="/about">About Us</a>
            <ul class="nav-submenu">
              <li><a href="/about#mission">Mission & Vision</a></li>
              <li><a href="/about#pillars">Core Pillars</a></li>
              <li><a href="/about#team">Team</a></li>
              <li><a href="/about">Organization</a></li>
            </ul>
          </li>
          <li class="nav-item-with-submenu">
            <a href="/community">Our Community</a>
            <ul class="nav-submenu">
              <li><a href="/community">Community Overview</a></li>
              <li><a href="/events">Events & Outreach</a></li>
              <li><a href="/blogs">Knowledge Base</a></li>
            </ul>
          </li>
          <li class="nav-item-with-submenu">
            <a href="/blogs">News</a>
            <ul class="nav-submenu">
              <li><a href="/blogs">Blog Posts</a></li>
              <li><a href="/events">Events</a></li>
              <li><a href="/partners">Partners</a></li>
            </ul>
          </li>
          <li><a href="/partners">Partners</a></li>
          <li><a href="/contact">Contact</a></li>
          <li>
            <a href="/contact" class="btn btn-nav-cta">Join Us</a>
          </li>
        </ul>

        <!-- Theme Toggle -->
        <button
          id="themeToggle"
          class="theme-toggle"
          type="button"
          aria-label="Toggle theme"
        >
          <i class="fa-solid fa-sun"></i>
        </button>
      </nav>
    </div>
  </header>

  <!-- ========== HERO SECTION ========== -->
  <section class="hero-section hero-section-alt">
    <div class="container">
      <nav class="breadcrumb" aria-label="breadcrumb">
        <a href="/">Home</a>
        <span>/</span>
        <a href="/blogs">Blogs</a>
        <span>/</span>
        <span aria-current="page">Add Blog</span>
      </nav>
      <div class="hero-content reveal">
        <h1>Publish Your Cybersecurity Insights</h1>
        <p>
          Share your expertise and contribute to the HackHalt - CIC knowledge base.
          Follow the template below to create a well-structured blog post.
        </p>
      </div>
    </div>
  </section>

  <!-- ========== ADD BLOG SECTION ========== -->
  <section class="section">
    <div class="container">
      <div class="add-blog-container reveal">
        <h2>Create New Blog Post</h2>
        <p style="color: var(--text-tertiary); margin-bottom: 1.5rem;">
          Fill in all fields to create your blog post. Your blog will follow our standard format and be added to the blogs collection.
        </p>

        <!-- Success Message -->
        <div class="success-message" id="successMessage">
          <i class="fa-solid fa-check-circle" style="margin-right: 0.5rem;"></i>
          Blog post published successfully! <a href="/blogs" style="color: white; text-decoration: underline;">View all blogs</a>
        </div>

        <!-- Blog Form -->
        <form id="addBlogForm" class="form-grid">
          <!-- Title -->
          <div class="form-group form-group-full">
            <label for="blogTitle">Blog Title *</label>
            <input
              type="text"
              id="blogTitle"
              placeholder="e.g., Top 10 Social Engineering Red Flags in 2025"
              required
              maxlength="120"
            />
            <small style="color: var(--text-tertiary);">Maximum 120 characters</small>
          </div>

          <!-- Category -->
          <div class="form-group">
            <label for="blogCategory">Category *</label>
            <select id="blogCategory" required>
              <option value="">-- Select Category --</option>
              <option value="threats">Threat Intel</option>
              <option value="awareness">Awareness</option>
              <option value="policy">Policy & Governance</option>
            </select>
          </div>

          <!-- Date -->
          <div class="form-group">
            <label for="blogDate">Date (Month Year) *</label>
            <input
              type="text"
              id="blogDate"
              placeholder="e.g., Nov 2025"
              required
              maxlength="20"
            />
          </div>

          <!-- Author -->
          <div class="form-group">
            <label for="blogAuthor">Author Name *</label>
            <input
              type="text"
              id="blogAuthor"
              placeholder="Your name or team name"
              required
              maxlength="50"
            />
          </div>

          <!-- Read Time -->
          <div class="form-group">
            <label for="blogReadTime">Estimated Read Time *</label>
            <input
              type="text"
              id="blogReadTime"
              placeholder="e.g., 8 min"
              required
              maxlength="20"
            />
          </div>

          <!-- Excerpt -->
          <div class="form-group form-group-full">
            <label for="blogExcerpt">Excerpt (Summary) *</label>
            <textarea
              id="blogExcerpt"
              placeholder="Brief summary of the blog (2-3 sentences)"
              required
              maxlength="300"
            ></textarea>
            <small style="color: var(--text-tertiary);">Maximum 300 characters</small>
          </div>

          <!-- Main Content -->
          <div class="form-group form-group-full">
            <label for="blogContent">Main Content *</label>
            <textarea
              id="blogContent"
              placeholder="Detailed blog content with research, insights, and recommendations. Include time-period-specific information and practical guidance."
              required
              style="min-height: 300px;"
            ></textarea>
            <small style="color: var(--text-tertiary);">Provide comprehensive, well-researched content (minimum 500 characters recommended)</small>
          </div>

          <!-- Tags -->
          <div class="form-group form-group-full">
            <label for="blogTags">Tags (Press Enter after each tag) *</label>
            <div class="tags-input-container" id="tagsContainer">
              <input
                type="text"
                class="tags-input"
                id="blogTags"
                placeholder="Add tags..."
                autocomplete="off"
              />
            </div>
            <small style="color: var(--text-tertiary);">Add relevant tags to categorize your content (e.g., #phishing, #ransomware, #awareness)</small>
          </div>

          <!-- Form Actions -->
          <div class="form-actions form-group-full">
            <button type="submit" class="btn-submit">
              <i class="fa-solid fa-paper-plane" style="margin-right: 0.5rem;"></i>
              Publish Blog
            </button>
            <button type="reset" class="btn-reset">
              <i class="fa-solid fa-rotate-left" style="margin-right: 0.5rem;"></i>
              Clear Form
            </button>
          </div>
        </form>
      </div>

      <!-- Preview Section -->
      <div class="preview-section reveal">
        <h3>Blog Preview</h3>
        <p style="color: var(--text-tertiary); margin-bottom: 1rem;">
          Here's how your blog will appear in the blog listing:
        </p>
        <div class="blog-card-preview" id="blogPreview">
          <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
            <span style="background: var(--accent-color); color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.85rem;">
              Category
            </span>
          </div>
          <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">Your Blog Title</h4>
          <div style="font-size: 0.9rem; color: var(--text-tertiary); margin-bottom: 1rem;">
            Date • Read Time • Author
          </div>
          <p style="color: var(--text-secondary); margin-bottom: 1rem;">
            Your excerpt will appear here...
          </p>
          <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
            <span class="tag">#tag1</span>
            <span class="tag">#tag2</span>
          </div>
        </div>
      </div>

      <!-- Guidelines Section -->
      <div class="section section-alt" style="margin-top: 3rem;">
        <div class="reveal">
          <h3>Blog Writing Guidelines</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
            <div>
              <h4 style="color: var(--accent-color); margin-bottom: 1rem;">
                <i class="fa-solid fa-check" style="margin-right: 0.5rem;"></i>
                Do's
              </h4>
              <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-check-circle" style="color: #10b981; margin-right: 0.5rem;"></i>
                  Include time-period relevant information and current statistics
                </li>
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-check-circle" style="color: #10b981; margin-right: 0.5rem;"></i>
                  Provide practical recommendations and implementation strategies
                </li>
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-check-circle" style="color: #10b981; margin-right: 0.5rem;"></i>
                  Include India-specific context when relevant (regulations, incidents, costs)
                </li>
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-check-circle" style="color: #10b981; margin-right: 0.5rem;"></i>
                  Use industry tools and real case studies for credibility
                </li>
              </ul>
            </div>
            <div>
              <h4 style="color: #ef4444; margin-bottom: 1rem;">
                <i class="fa-solid fa-xmark" style="margin-right: 0.5rem;"></i>
                Don'ts
              </h4>
              <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-circle-xmark" style="color: #ef4444; margin-right: 0.5rem;"></i>
                  Don't keep content generic or outdated
                </li>
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-circle-xmark" style="color: #ef4444; margin-right: 0.5rem;"></i>
                  Don't skip technical details or oversimplify complex topics
                </li>
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-circle-xmark" style="color: #ef4444; margin-right: 0.5rem;"></i>
                  Don't ignore India's cybersecurity landscape and regulations
                </li>
                <li style="margin-bottom: 0.75rem;">
                  <i class="fa-solid fa-circle-xmark" style="color: #ef4444; margin-right: 0.5rem;"></i>
                  Don't forget to include specific tools, costs, and timelines
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== FOOTER ========== -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-brand">
        <span class="footer-logo">HackHalt - CIC</span>
        <p>
          Building a safer digital tomorrow through intelligence, collaboration,
          and continuous learning.
        </p>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/community">Community</a></li>
          <li><a href="/blogs">Blogs</a></li>
          <li><a href="/events">Events</a></li>
          <li><a href="/partners">Partners</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div>
      <div class="footer-links">
        <h4>Legal</h4>
        <ul>
          <li><a href="/legal-compliance">Legal & Compliance</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Code of Conduct</a></li>
          <li><a href="#">Terms of Collaboration</a></li>
        </ul>
      </div>
      <div class="footer-links">
        <h4>Follow</h4>
        <ul class="social-links">
          <li><a href="https://www.linkedin.com/company/hack-halt/posts/?feedView=all" target="_blank" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a></li>
          <li><a href="https://www.instagram.com/hackhalt/?hl=en" target="_blank" title="Instagram"><i class="fa-brands fa-instagram"></i></a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <span>© <span id="year"></span> HackHalt - Cyber Intelligence Council. All rights reserved. | CIN: U94990DL2025NPL459178 | NITI Aayog: DL/2025/0920083 | MSME: UDYAM-DL-02-0107864</span>
    </div>
  </footer>

  <!-- Back to top -->
  <button id="backToTop" class="back-to-top" aria-label="Back to top">
    <i class="fa-solid fa-arrow-up"></i>
  </button>

  <script src="assets/js/utils.js"></script>
  <script src="assets/js/main.js"></script>
  <script>
    // Tags management
    const tagsContainer = document.getElementById('tagsContainer');
    const tagsInput = document.getElementById('blogTags');
    let tags = [];

    tagsInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        const tag = tagsInput.value.trim();
        if (tag && !tags.includes(tag)) {
          addTag(tag);
          tagsInput.value = '';
        }
      }
    });

    function addTag(tag) {
      tags.push(tag);
      renderTags();
    }

    function removeTag(tag) {
      tags = tags.filter(t => t !== tag);
      renderTags();
    }

    function renderTags() {
      // Clear all tags and rebuild
      const existingTags = tagsContainer.querySelectorAll('.tag-badge');
      existingTags.forEach(t => t.remove());

      // Add new tags
      tags.forEach(tag => {
        const badge = document.createElement('div');
        badge.className = 'tag-badge';
        badge.innerHTML = `
          <span>${tag}</span>
          <button type="button" onclick="removeTag('${tag}')">
            <i class="fa-solid fa-xmark"></i>
          </button>
        `;
        tagsContainer.insertBefore(badge, tagsInput);
      });
    }

    // Live preview update
    const form = document.getElementById('addBlogForm');
    const blogPreview = document.getElementById('blogPreview');

    function updatePreview() {
      const title = document.getElementById('blogTitle').value || 'Your Blog Title';
      const category = document.getElementById('blogCategory').value || 'Category';
      const date = document.getElementById('blogDate').value || 'Date';
      const readTime = document.getElementById('blogReadTime').value || 'Read Time';
      const author = document.getElementById('blogAuthor').value || 'Author';
      const excerpt = document.getElementById('blogExcerpt').value || 'Your excerpt will appear here...';

      const categoryMap = {
        'threats': 'Threat Intel',
        'awareness': 'Awareness',
        'policy': 'Policy & Governance'
      };

      blogPreview.innerHTML = `
        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
          <span style="background: var(--accent-color); color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.85rem;">
            ${categoryMap[category] || 'Category'}
          </span>
        </div>
        <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">${title}</h4>
        <div style="font-size: 0.9rem; color: var(--text-tertiary); margin-bottom: 1rem;">
          ${date} • ${readTime} • ${author}
        </div>
        <p style="color: var(--text-secondary); margin-bottom: 1rem;">
          ${excerpt}
        </p>
        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
          ${tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
        </div>
      `;
    }

    // Update preview on input
    form.addEventListener('input', updatePreview);
    form.addEventListener('change', updatePreview);

    // Form submission
    form.addEventListener('submit', (e) => {
      e.preventDefault();

      if (tags.length === 0) {
        Notification.error('Please add at least one tag');
        return;
      }

      // Create blog object
      const newBlog = {
        id: Math.max(0, ...window.blogs?.map(b => b.id) || [0]) + 1,
        title: document.getElementById('blogTitle').value,
        category: document.getElementById('blogCategory').value,
        date: document.getElementById('blogDate').value,
        readTime: document.getElementById('blogReadTime').value,
        excerpt: document.getElementById('blogExcerpt').value,
        content: document.getElementById('blogContent').value,
        author: document.getElementById('blogAuthor').value,
        tags: tags
      };

      // In a real app, this would send to a backend
      // For now, we'll store in localStorage
      let allBlogs = JSON.parse(localStorage.getItem('userBlogs') || '[]');
      allBlogs.push(newBlog);
      localStorage.setItem('userBlogs', JSON.stringify(allBlogs));

      // Show success message with thank you
      Notification.success('✨ Thank You! Your blog has been submitted successfully! It will appear on the site once approved.');

      // Reset form
      form.reset();
      tags = [];
      renderTags();
      updatePreview();

      // Optionally redirect to blogs page
      // setTimeout(() => {
      //   window.location.href = '/blogs';
      // }, 2000);
    });

    // Initialize preview
    updatePreview();
  </script>
</body>
</html>
